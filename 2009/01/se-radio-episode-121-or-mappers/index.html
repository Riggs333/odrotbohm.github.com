
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Oliver Gierke - The DAO is dead! Long live the DAO!</title>
   <meta name="author" content="Oliver Gierke" />
   <link href="/atom.xml" rel="alternate" title="Blog Atom Feed" type="application/atom+xml" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/assets/themes/tom/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/assets/themes/tom/css/screen.css" type="text/css" media="screen, projection" />

   <!-- Typekit -->
   <script type="text/javascript" src="http://use.typekit.com/jpd0pfm.js"></script>
   <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>

  <div class="site">
    <div class="title">
      <a href="/">Oliver Gierke</a>

      <a class="extra" href="/archive.html">Archive</a>
      <a class="extra" href="/about.html">About</a>
      <a class="extra" href="/tags.html">Tags</a>
    </div>
  
    
<div id="post">
  <h1>The DAO is dead! Long live the DAO!</h1>
  <p class="meta">
    14 January 2009 
    
  </p>
  <p><a href='http://www.se-radio.net/podcast/2008-12/episode-121-or-mappers-michael-ploed'>Episode 121</a> of <a href='http://www.se-radio.net'>Software Engineering Radio</a> deals with the topic of OR Mappers. Michael Pl√∂d introduces the concept of <a href='http://en.wikipedia.org/wiki/Object-relational_mapping'>object-relational mapping</a> technologies, discusses advantages and disadvantages. The content of the episode is very basic to a large extend, which makes it ideal to get an introducing idea of the topic.</p>

<p>The reason I discuss this here is a discussion Arno (the interviewer) is introducing regarding the necessity of the DAO (Data Access Object) Pattern, if you use OR Mappers. Michael thinks that the DAO Pattern still has the right to exist and I decidedly second that. Let me explain why&#8230;</p>

<p>First, let&#8217;s take a look at the origin of the DAO Pattern, the problems it was meant to address in times it was invented. According to Wikipedia DAO is defined as follows:</p>

<blockquote>
<p>&#8230;a <strong>Data Access Object</strong> (DAO) is an <a href='http://en.wikipedia.org/wiki/Object_%28computer_science%29'>object</a> that provides an abstract <a href='http://en.wikipedia.org/wiki/Interface_%28computer_science%29'>interface</a> to some type of <a href='http://en.wikipedia.org/wiki/Database'>database</a> or persistence mechanism, providing some specific operations without exposing details of the database.</p>
</blockquote>

<p>In the days it was invented &#8220;persistence mechanism&#8221; was equal to &#8220;JDBC and SQL&#8221;. This of coure has changed a lot if you use an OR Mapper or even another abstraction layer above it like JPA. As they provide a more object oriented view on persistence or even a standardized interface. Nevertheless I definately propose the DAO for a lot of reasons. In the podcast Michael coins two main reasons, that I will briefly will describe here. Furthermore I&#8217;m going to add some other ones.</p>

<h2 id='separation_of_persistence_logic_and_business_logic'>Separation of persistence logic and business logic</h2>

<p>Using JPA in your service class directly (whether it is a Statless Session Bean or Spring bean) works well as long as you can rely on the really basic CRUD methods: create, update, delete, read. Reading persistent objects already is not that simple anymore.</p>

<h2 id='tangled_code__more_sophisticated_api'>Tangled code / More sophisticated API</h2>

<p>I have never seen an application that did only read all objects at once. You always need to select objects based on a given criteria, sort, page results and so on. If you try to set this up with JPA API or a vendor specific one you tangle your code with persistence code probably even proprietary API (if you use OR Mapper API directly). Furthermore you can easily mix and match persistence technology, if it becomes handy. I&#8217;ve seen few projects that use OR Mappers for classic data access and low level JDBC code to perform bulk operations.</p>

<h2 id='exchange_implementation'>Exchange implementation</h2>

<p>This is the &#8220;Yessss&#8230; but who does this?&#8221; argument. The answer is: You do! Or at least you should. Unit testing your business logic you should be able to easily mock or stub out your data access code.</p>

<h2 id='dont_repeat_the_dao'>Don&#8217;t repeat the DAO!</h2>

<p>Another aspect of the problem is that CRUD code as well as DAO implementations tend to be boilerplate. Repeated code here and there. Using a DAO layer allows you to gently generalize the code and thus reduce the amount of coded needed to implement it.</p>

<h2 id='hades_to_help'>Hades to help!</h2>

<p>Why am I so passionate about this? If you read my blog now and then you know that I lead project Hades that addresses exactly these issues. So if you ever have experienced one of the issues mentioned above, take a glance at <a href='http://hades.synyx.org'>Hades</a> and play around with it if you like.</p>

<p>If you are from Frankfurt/Main area you have the chance to get introduced to it tomorrow evening where I will give a talk on <a href='http://hades.synyx.org'>Hades</a> (and the DAO question) on 2009&#8217;s first <a href='http://www.devdusk.de'>DevDusk</a> - Technology for Techies, a bimonthly meeting of passionated geeks, nerds, techies, whatever you wnt to call them. Would be nice to see you there.</p>

<h2 id='links'>Links</h2>

<ul>
<li><a href='http://www.ibm.com/developerworks/java/library/j-genericdao.html'>Don&#8217;t repeat the DAO</a></li>
</ul>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>16 Dec 2012</span> &raquo; <a href="/2012/12/hello-world">Hello World</a></li>
    
      <li><span>01 Oct 2010</span> &raquo; <a href="/2010/10/spring-logging-and-jmx">Spring, logging and JMX</a></li>
    
      <li><span>15 Sep 2010</span> &raquo; <a href="/2010/09/enabling-hibernate-critera-query-statistics-with-aspectj">Enabling Hibernate criteria query statistics with AspectJ</a></li>
    
  </ul>
</div>




  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'olivergierke'; // required: replace example with your forum shortname
    var disqus_identifier = '223 http://www.olivergierke.de/?p=223';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>





  
    <div class="footer">
      <div class="contact">
        <p>
          Oliver Gierke<br />
          Soul Power!<br />
        </p>
      </div>
      <div class="contact">
        <p>
          <a href="http://github.com/olivergierke/">github.com/olivergierke</a><br />
          <a href="http://twitter.com/olivergierke/">twitter.com/olivergierke</a><br />
          <a href='mailto:info@olivergierke.de'>info@olivergierke.de</a>
        </p>
      </div>
      <div class="rss">
        <a href="/atom.xml">
          <img src="/assets/themes/tom/images/rss.png" alt="Subscribe to Atom Feed" />
        </a>
      </div>
    </div>
  </div>
  <a href="http://github.com/olivergierke"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a>

  
</body>
</html>

